(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{5377:(e,s,t)=>{Promise.resolve().then(t.bind(t,9006))},5689:(e,s,t)=>{"use strict";t.d(s,{Nu:()=>d,iD:()=>l,kz:()=>c,ri:()=>i});var r=t(2651),a=t(8094);let n="https://api.velbots.shop",o=async e=>(await r.A.get(e,{withCredentials:!0})).data;async function c(e){try{return(await r.A.post("".concat(n,"/auth/register"),e,{withCredentials:!0})).data}catch(e){throw console.error("Register error:",e),e}}async function l(e){try{return(await r.A.post("".concat(n,"/auth/login"),e,{withCredentials:!0,headers:{"Content-Type":"application/json"},xsrfCookieName:"csrf_access_token",xsrfHeaderName:"X-CSRF-TOKEN"})).data}catch(e){throw console.error("Login error:",e),e}}async function i(){try{return(await r.A.post("".concat(n,"/auth/logout"),{},{withCredentials:!0})).data}catch(e){throw console.error("Logout error:",e),e}}function d(){return(0,a.Ay)("".concat(n,"/users/profile"),o)}},9006:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(5155),a=t(7293),n=t(1889),o=t(9929),c=t(3767),l=t(3794),i=t(6323),d=t(1665),u=t(2115),m=t(6658),h=t(5689);function p(){let[e,s]=(0,u.useState)(!1),[t,p]=(0,u.useState)(null),[x,w]=(0,u.useState)({username:"",email:"",twitchUsername:"",password:"",confirmPassword:""}),[g,f]=(0,u.useState)({}),y=(0,m.useRouter)(),v=e=>e.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?/[!@#$%^&*]/.test(e)?null:"Password must contain at least one special character (!@#$%^&*)":"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",j=e=>e.length<3||e.length>20?"Username must be between 3 and 20 characters long":/^[a-zA-Z0-9_-]+$/.test(e)?null:"Username can only contain letters, numbers, underscores and hyphens",b=e=>{let{name:s,value:t}=e.target;w(e=>({...e,[s]:t}))};async function N(e){e.preventDefault(),f({});let t=j(x.username);if(t){f(e=>({...e,username:t}));return}let r=v(x.password);if(r){f(e=>({...e,password:r}));return}if(x.password!==x.confirmPassword){f(e=>({...e,confirmPassword:"Passwords do not match"}));return}let a={username:x.username,TwitchUsername:x.twitchUsername,email:x.email,password:x.password};try{s(!0),await (0,h.kz)(a),d.oR.success("Account created successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),y.push("/login")}catch(s){let e=s instanceof Error?s.message:"An error occurred";p(e),d.oR.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{s(!1)}}return(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,r.jsx)(d.N9,{}),(0,r.jsxs)(a.Z,{className:"space-y-8 p-8 w-96 md:w-[500px]",children:[(0,r.jsx)(n.d,{className:"flex flex-col space-y-5",children:(0,r.jsx)("h2",{className:"text-3xl font-extrabold text-center",children:"Create Account"})}),(0,r.jsx)(o.l,{className:"mt-8 space-y-6",onSubmit:N,children:(0,r.jsxs)(c.U,{className:"space-y-6",children:[t&&(0,r.jsx)("div",{className:"p-3 text-sm text-red-500 bg-red-100 rounded-lg",children:t}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.r,{type:"text",name:"username",label:"Username",value:x.username,onChange:b,required:!0,minLength:3,maxLength:20,pattern:"[a-zA-Z0-9_-]+",title:"Username can only contain letters, numbers, underscores and hyphens"}),g.username&&(0,r.jsx)("p",{className:"mt-1 text-xs text-red-500",children:g.username}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"3-20 characters, letters, numbers, underscores and hyphens only"})]}),(0,r.jsx)("div",{children:(0,r.jsx)(l.r,{type:"email",name:"email",label:"Email",value:x.email,onChange:b,required:!0})}),(0,r.jsx)("div",{children:(0,r.jsx)(l.r,{type:"text",name:"twitchUsername",label:"Twitch Username",value:x.twitchUsername,onChange:b,required:!0})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.r,{type:"password",name:"password",label:"Password",value:x.password,onChange:b,required:!0,minLength:8,title:"Password must be at least 8 characters long, contain uppercase and lowercase letters, numbers and special characters"}),g.password&&(0,r.jsx)("p",{className:"mt-1 text-xs text-red-500",children:g.password}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 8 characters, must include uppercase, lowercase, number and special character"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.r,{type:"password",name:"confirmPassword",label:"Confirm Password",value:x.confirmPassword,onChange:b,required:!0}),g.confirmPassword&&(0,r.jsx)("p",{className:"mt-1 text-xs text-red-500",children:g.confirmPassword})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.T,{type:"submit",isLoading:e,spinner:(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 text-current",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})]}),className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:e?"Creating Account...":"Create Account"}),(0,r.jsxs)("div",{className:"mt-4 text-center",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Already have an account?"," "]}),(0,r.jsx)(i.T,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onPress:()=>y.push("/login"),children:"Login now"})]})]})]})})]})]})}},9929:(e,s,t)=>{"use strict";t.d(s,{l:()=>c});var r=t(5913),a=t(7298),n=t(2115),o=t(5155),c=(0,n.forwardRef)(function(e,s){var t,n;let c=(0,a.o)(),l=null!=(n=null!=(t=e.validationBehavior)?t:null==c?void 0:c.validationBehavior)?n:"aria";return(0,o.jsx)(r.l,{...e,ref:s,validationBehavior:l})})}},e=>{var s=s=>e(e.s=s);e.O(0,[385,498,441,517,358],()=>s(5377)),_N_E=e.O()}]);