(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{5377:(e,r,s)=>{Promise.resolve().then(s.bind(s,5659))},6046:(e,r,s)=>{"use strict";var t=s(6658);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},5689:(e,r,s)=>{"use strict";s.d(r,{Nu:()=>c,iD:()=>l,kz:()=>i});var t=s(2651),a=s(8094);let o=s(2818).env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3000",n=async e=>(await t.A.get(e,{withCredentials:!0})).data;async function i(e){try{return(await t.A.post("".concat(o,"/auth/register"),e,{withCredentials:!0})).data}catch(e){throw console.error("Register error:",e),e}}async function l(e){try{let r=await t.A.post("".concat(o,"/auth/login"),e,{withCredentials:!0,headers:{"Content-Type":"application/json"},xsrfCookieName:"csrf_access_token",xsrfHeaderName:"X-CSRF-TOKEN"});return console.log("Cookies:",document.cookie),r.data}catch(e){throw console.error("Login error:",e),e}}function c(){return(0,a.Ay)("".concat(o,"/users/profile"),n)}},5659:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var t=s(5155),a=s(7293),o=s(1889),n=s(9929),i=s(3767),l=s(3794),c=s(6323),u=s(6331),d=s(2115),h=s(6046),x=s(5689);function m(){let[e,r]=(0,d.useState)(!1),[s,m]=(0,d.useState)(null),p=(0,h.useRouter)();async function g(e){let s=e.get("password");if(s!==e.get("confirmPassword")){u.oR.error("Passwords do not match",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});return}let t={username:e.get("username"),email:e.get("email"),password:s};try{r(!0),await (0,x.kz)(t),u.oR.success("Account created successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),p.push("/login")}catch(r){let e=r instanceof Error?r.message:"An error occurred";m(e),u.oR.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{r(!1)}}return(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,t.jsx)(u.N9,{}),(0,t.jsxs)(a.Z,{className:"space-y-8 p-8 w-96 md:w-[500px]",children:[(0,t.jsx)(o.d,{className:"flex flex-col space-y-5",children:(0,t.jsx)("h2",{className:"text-3xl font-extrabold text-center",children:"Create Account"})}),(0,t.jsx)(n.l,{className:"mt-8 space-y-6",action:g,children:(0,t.jsxs)(i.U,{className:"space-y-6",children:[s&&(0,t.jsx)("div",{className:"p-3 text-sm text-red-500 bg-red-100 rounded-lg",children:s}),(0,t.jsx)("div",{children:(0,t.jsx)(l.r,{type:"text",name:"username",label:"Username",required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)(l.r,{type:"email",name:"email",label:"Email",required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)(l.r,{type:"password",name:"password",label:"Password",required:!0})}),(0,t.jsx)("div",{children:(0,t.jsx)(l.r,{type:"password",name:"confirmPassword",label:"Confirm Password",required:!0})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.T,{type:"submit",isLoading:e,spinner:(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5 text-current",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})]}),className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:e?"Creating Account...":"Create Account"}),(0,t.jsxs)("div",{className:"mt-4 text-center",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Already have an account?"," "]}),(0,t.jsx)(c.T,{variant:"ghost",className:"text-sm text-blue-600 hover:text-blue-800",onPress:()=>p.push("/login"),children:"Login now"})]})]})]})})]})]})}},9929:(e,r,s)=>{"use strict";s.d(r,{l:()=>i});var t=s(5913),a=s(7298),o=s(2115),n=s(5155),i=(0,o.forwardRef)(function(e,r){var s,o;let i=(0,a.o)(),l=null!=(o=null!=(s=e.validationBehavior)?s:null==i?void 0:i.validationBehavior)?o:"aria";return(0,n.jsx)(t.l,{...e,ref:r,validationBehavior:l})})}},e=>{var r=r=>e(e.s=r);e.O(0,[602,667,441,517,358],()=>r(5377)),_N_E=e.O()}]);