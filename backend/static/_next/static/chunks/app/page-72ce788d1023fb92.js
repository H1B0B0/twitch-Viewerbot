(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4841:(e,t,a)=>{Promise.resolve().then(a.bind(a,109))},5689:(e,t,a)=>{"use strict";a.d(t,{Nu:()=>u,iD:()=>o,kz:()=>i,ri:()=>c});var s=a(2651),r=a(8094);let n="https://api.velbots.shop",l=async e=>(await s.A.get(e,{withCredentials:!0})).data;async function i(e){try{return(await s.A.post("".concat(n,"/auth/register"),e,{withCredentials:!0})).data}catch(e){throw console.error("Register error:",e),e}}async function o(e){try{return(await s.A.post("".concat(n,"/auth/login"),e,{withCredentials:!0,headers:{"Content-Type":"application/json"},xsrfCookieName:"csrf_access_token",xsrfHeaderName:"X-CSRF-TOKEN"})).data}catch(e){throw console.error("Login error:",e),e}}async function c(){try{return(await s.A.post("".concat(n,"/auth/logout"),{},{withCredentials:!0})).data}catch(e){throw console.error("Logout error:",e),e}}function u(){return(0,r.Ay)("".concat(n,"/users/profile"),l)}},109:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var s=a(5155),r=a(2115),n=a(7293),l=a(6323),i=a(1889),o=a(3767),c=a(3794),u=a(8260),d=a(4121),h=a(4595),m=a(3669),x=a(1665);a(5716);var p=a(9199),g=a(3463),f=a(9795);function v(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,f.QP)((0,g.$)(t))}function b(e){let{value:t,className:a}=e,[n,l]=(0,r.useState)(t),[i,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(t!==n){o(!0);let e=(t-n)/20,a=0,s=setInterval(()=>{a<20?(l(t=>Math.round(t+e)),a++):(l(t),o(!1),clearInterval(s))},50);return()=>clearInterval(s)}},[t,n]),(0,s.jsx)("span",{className:v("transition-transform",i&&"animate-bounce-once",a),children:n.toLocaleString()})}function j(e){let{title:t,value:a,total:l,increment:i}=e,c=l?a/l*100:0,[u,d]=(0,r.useState)(a),[h,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)(0),f=(0,r.useRef)(null);(0,r.useEffect)(()=>(a>u&&(g(a-u),m(!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{m(!1),g(0)},1e3)),d(a),()=>{f.current&&clearTimeout(f.current)}),[a,u]);let j=t.toLowerCase().includes("request");return(0,s.jsx)(n.Z,{className:v("border-none bg-gradient-to-br from-default-50/50 to-default-100/50 backdrop-blur-md transition-all duration-300",j&&h&&"ring-1 ring-purple-500/50"),shadow:"sm",children:(0,s.jsxs)(o.U,{className:"space-y-4 p-6",children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-default-600 uppercase tracking-wider flex items-center justify-between",children:[t,j&&h&&(0,s.jsxs)("span",{className:"flex h-2 w-2",children:[(0,s.jsx)("span",{className:"animate-ping absolute h-2 w-2 rounded-full bg-purple-400 opacity-75"}),(0,s.jsx)("span",{className:"rounded-full h-2 w-2 bg-purple-500"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-2 relative",children:[(0,s.jsx)("span",{className:v("text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent transition-all duration-300",j&&h&&"scale-105"),children:t.toLowerCase().includes("thread")||t.toLowerCase().includes("requests")?(0,s.jsx)(b,{value:a}):a.toLocaleString()}),j&&h&&x>0&&(0,s.jsxs)("span",{className:"absolute -right-12 top-0 text-xs font-medium text-green-500 animate-fade-up",children:["+",x.toLocaleString()]}),i&&(0,s.jsx)("span",{className:"text-xs font-medium text-default-500",children:"/sec"})]}),l&&(0,s.jsxs)("div",{className:"text-sm font-medium text-default-400",children:["of ",l.toLocaleString()]})]}),l&&(0,s.jsx)(p.o,{value:c,classNames:{base:"h-2",indicator:"bg-gradient-to-r from-purple-600 to-pink-600",track:"bg-default-100"}})]})})}var N=a(5689),y=a(6046);async function w(e){if(!e)return console.log("No username provided for viewer count fetch"),0;try{var t,a,s;let r=await fetch("https://gql.twitch.tv/gql",{method:"POST",headers:{"Client-Id":"kimne78kx3ncx6brgo4mv6wki5h1ko","Content-Type":"application/json"},body:JSON.stringify({query:"\n        query GetViewerCount($login: String!) {\n          user(login: $login) {\n            stream {\n              viewersCount\n            }\n          }\n        }\n      ",variables:{login:e}})}),n=await r.json();return(null==n?void 0:null===(s=n.data)||void 0===s?void 0:null===(a=s.user)||void 0===a?void 0:null===(t=a.stream)||void 0===t?void 0:t.viewersCount)||0}catch(t){return console.error("\uD83D\uDD34 Error fetching viewer count for ".concat(e,":"),t),0}}var T=a(1536);function k(e){let{value:t}=e,{previousValue:a,percentageChange:l}=function(e){let[t,a]=(0,r.useState)([]);(0,r.useEffect)(()=>{e>0&&a(t=>[...t,e].slice(-10))},[e]);let s=()=>t.length<2?e:t[t.length-2];return{previousValue:s(),percentageChange:(()=>{let t=s();return 0===t?0:(e-t)/t*100})(),values:t}}(t),i=t-a,[c,u]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(i>0){u(!0);let e=setTimeout(()=>u(!1),2e3);return()=>clearTimeout(e)}},[t,i]),(0,s.jsxs)("div",{className:"relative",children:[c&&(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/30 via-pink-500/30 to-purple-500/30 rounded-lg blur-xl animate-pulse"}),(0,s.jsx)(n.Z,{className:v("relative border-none bg-default-50/50 backdrop-blur-md transition-all duration-300",c&&"ring-2 ring-purple-500/50"),shadow:"sm",children:(0,s.jsxs)(o.U,{className:"space-y-4 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-default-600 uppercase tracking-wider",children:"Live Viewers"}),c&&(0,s.jsxs)("span",{className:"flex h-2 w-2",children:[(0,s.jsx)("span",{className:"animate-ping absolute h-2 w-2 rounded-full bg-purple-400 opacity-75"}),(0,s.jsx)("span",{className:"rounded-full h-2 w-2 bg-purple-500"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"flex items-baseline gap-2",children:(0,s.jsx)("span",{className:v("text-4xl font-black bg-clip-text text-transparent transition-all duration-1000",c?"bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 animate-gradient-x":"bg-gradient-to-r from-purple-600 to-pink-600"),children:t.toLocaleString()})}),(0,s.jsxs)("div",{className:"flex items-center gap-1 ".concat(i>0?"text-green-500":i<0?"text-red-500":"text-gray-500"),children:[i>0?(0,s.jsx)(T.uCC,{className:"w-4 h-4"}):i<0?(0,s.jsx)(T.$TP,{className:"w-4 h-4"}):(0,s.jsx)(T.iu5,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:[Math.abs(l).toFixed(1),"%"]}),(0,s.jsx)("span",{className:"text-xs text-default-500 ml-1",children:"since last update"})]})]})]})})]})}let S="https://velbots.shop/api/bot",C=async e=>{let t=new FormData;t.append("channelName",e.channelName),t.append("threads",e.threads.toString()),e.proxyFile&&t.append("proxyFile",e.proxyFile),e.timeout&&t.append("timeout",e.timeout.toString()),e.proxyType&&t.append("proxyType",e.proxyType);let a=await fetch("".concat(S,"/start"),{method:"POST",body:t,credentials:"include"});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()},P=async()=>{let e=await fetch("".concat(S,"/stop"),{method:"POST",credentials:"include"});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()},_=async()=>{let e=await fetch("".concat(S,"/stats"),{credentials:"include"});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()};function E(){var e,t;let a=(0,y.useRouter)(),{data:p}=(0,N.Nu)(),[g,f]=(0,r.useState)({threads:0,channelName:"",gameName:"",messagesPerMinute:1,enableChat:!1,proxyType:"http",timeout:1e3}),{viewerCount:v}=function(e){let[t,a]=(0,r.useState)(0),[s,n]=(0,r.useState)(0),[l,i]=(0,r.useState)();return(0,r.useEffect)(()=>{if(!e)return;let s=async()=>{let s=await w(e);n(t),a(s),i(new Date)};s();let r=setInterval(s,2e3);return()=>{clearInterval(r)}},[e,t]),{viewerCount:t,previousCount:s,lastUpdate:l}}((null==g?void 0:g.channelName)||(null==p?void 0:null===(e=p.user)||void 0===e?void 0:e.TwitchUsername)),[b,T]=(0,r.useState)(!1),[S,E]=(0,r.useState)(null),[q,F]=(0,r.useState)({totalProxies:0,aliveProxies:0,activeThreads:0,request_count:0,viewers:v,targetViewers:0}),[L,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e;return b&&(e=setInterval(async()=>{try{let e=await _();F(t=>({...t,activeThreads:e.active_threads,totalProxies:e.total_proxies,aliveProxies:e.alive_proxies,request_count:e.request_count})),0===e.active_threads&&b&&T(!1)}catch(e){console.error("Failed to fetch stats:",e)}},1e3)),()=>{e&&clearInterval(e)}},[b]),(0,r.useEffect)(()=>{var e;(null==p?void 0:null===(e=p.user)||void 0===e?void 0:e.TwitchUsername)&&!g.channelName&&!L&&f(e=>({...e,channelName:p.user.TwitchUsername}))},[p,L,g.channelName]),(0,r.useEffect)(()=>{(async()=>{try{let e=await _();if((e.active_threads>0||e.is_running)&&(T(!0),F(t=>({...t,activeThreads:e.active_threads,totalProxies:e.total_proxies,aliveProxies:e.alive_proxies,request_count:e.request_count})),e.config)){let{threads:t,timeout:a,proxy_type:s}=e.config;f(r=>({...r,threads:null!=t?t:r.threads,timeout:null!=a?a:r.timeout,proxyType:null!=s?s:r.proxyType,channelName:e.channel_name||r.channelName}))}}catch(e){console.error("Failed to check bot status:",e)}})()},[]);let I=async()=>{if(g.channelName){if(0===g.threads){x.oR.error("Threads count must be greater than 0");return}}else{x.oR.error("Channel name is required");return}try{T(!0),await C({channelName:g.channelName,threads:g.threads,proxyFile:S||void 0,timeout:g.timeout,proxyType:g.proxyType}),x.oR.success("Bot started successfully!\uD83D\uDE80 It may take a while before the viewers appear on the stream.")}catch(e){x.oR.error("Failed to start bot: ".concat(e instanceof Error?e.message:"Unknown error")),T(!1)}},U=async()=>{try{await P(),x.oR.success("Bot stopped successfully!"),T(!1),F(e=>({...e,activeThreads:0,requests:0}))}catch(e){x.oR.error("Failed to stop bot"),console.error("Failed to stop bot:",e)}},A=async()=>{try{await (0,N.ri)(),x.oR.success("Logged out successfully!"),a.push("/login")}catch(e){x.oR.error("Failed to logout")}};return(0,s.jsxs)("div",{className:"min-h-screen p-6",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,s.jsxs)(n.Z,{className:"relative text-center mb-8 p-8 rounded-2xl",children:[(0,s.jsx)(l.T,{as:"a",href:"https://www.patreon.com/c/HIBO",target:"_blank",rel:"noopener noreferrer",variant:"bordered",className:"absolute left-4 top-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white border-none",startContent:(0,s.jsx)("span",{className:"text-lg",children:"❤️"}),children:"Support Me"}),p&&(0,s.jsx)(l.T,{variant:"bordered",onPress:A,className:"absolute right-4 top-4",color:"danger",children:"Logout"}),(0,s.jsx)("h1",{className:"text-5xl font-black mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Twitch Viewer Bot"}),(0,s.jsx)("p",{className:"text-xl font-medium",children:p?"Welcome back, ".concat(p.user.username):"Monitor and control your viewer bot"})]}),(0,s.jsxs)(n.Z,{children:[(0,s.jsx)(i.d,{children:(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Live Monitoring"})}),(0,s.jsx)(o.U,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(k,{value:v}),(0,s.jsx)(j,{title:"Active Threads",value:q.activeThreads,total:g.threads}),(0,s.jsx)(j,{title:"Proxies",value:q.totalProxies,total:q.totalProxies}),(0,s.jsx)(j,{title:"Requests",value:q.request_count})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(n.Z,{children:[(0,s.jsx)(i.d,{children:(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Basic Configuration"})}),(0,s.jsxs)(o.U,{className:"space-y-6",children:[(0,s.jsx)(c.r,{label:"Channel Name",value:g.channelName,placeholder:(null==p?void 0:null===(t=p.user)||void 0===t?void 0:t.TwitchUsername)||"Enter channel name",onChange:e=>{R(!0),f(t=>({...t,channelName:e.target.value}))}}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.r,{type:"number",label:"Number of Threads",value:0===g.threads?"":g.threads.toString(),min:0,max:1e3,onChange:e=>f({...g,threads:""===e.target.value?0:Math.min(1e3,parseInt(e.target.value)||0)})}),(0,s.jsx)(u.I,{content:(0,s.jsxs)("div",{className:"max-w-xs p-2",children:[(0,s.jsx)("p",{children:"Threads determine how many simultaneous connections the bot will make."}),(0,s.jsx)("p",{className:"mt-1",children:"More threads = more viewers, but requires more resources and stable proxies."}),(0,s.jsx)("p",{className:"mt-1",children:"Recommended: Start with 100-200 threads."})]}),children:(0,s.jsx)("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-default-100 text-default-500 cursor-help",children:"?"})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(d.Q,{value:[g.timeout],defaultValue:[1e4],maxValue:1e4,onChange:e=>f({...g,timeout:Number(Array.isArray(e)?e[0]:e)}),getValue:e=>"".concat(e,"ms"),label:"Request Timeout",step:100})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium block",children:"Proxy List (Optional)"}),(0,s.jsx)(c.r,{type:"file",accept:".txt",onChange:e=>{var t;return E((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Upload a .txt file with proxies or let the bot scrape them automatically"})]})]})]}),(0,s.jsxs)(n.Z,{children:[(0,s.jsx)(i.d,{children:(0,s.jsx)("h2",{className:"text-2xl font-semibold",children:"Advanced Settings"})}),(0,s.jsxs)(o.U,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.r,{label:"Game Name",value:g.gameName,onChange:e=>f({...g,gameName:e.target.value}),isDisabled:!0}),(0,s.jsx)("span",{className:"absolute right-0 top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs px-2 py-1 rounded",children:"Coming Soon Premium Feature"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.Q,{value:[1],defaultValue:[1],maxValue:60,isDisabled:!0,label:"Messages Per Minute",getValue:e=>"".concat(e," messages"),step:1}),(0,s.jsx)("span",{className:"absolute right-0 top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs px-2 py-1 rounded",children:"Coming Soon Premium Feature"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.A,{checked:!1,isDisabled:!0,children:(0,s.jsx)("span",{className:"text-gray-400",children:"Enable Chat Messages"})}),(0,s.jsx)("span",{className:"absolute right-0 top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs px-2 py-1 rounded",children:"Coming Soon Premium Feature"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Proxy Type"}),(0,s.jsx)(m.x,{children:["http","socks4","socks5","all"].map(e=>(0,s.jsx)(l.T,{variant:g.proxyType===e?"solid":"bordered",onPress:()=>f({...g,proxyType:e}),children:e},e))})]})]})]})]}),(0,s.jsx)(n.Z,{children:(0,s.jsx)(o.U,{className:"py-6",children:(0,s.jsx)(l.T,{variant:"solid",color:b?"danger":"primary",size:"lg",fullWidth:!0,onPress:b?U:I,children:b?"Stop Bot":"Start Bot"})})})]}),(0,s.jsx)(x.N9,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[797,711,385,373,551,302,441,517,358],()=>t(4841)),_N_E=e.O()}]);